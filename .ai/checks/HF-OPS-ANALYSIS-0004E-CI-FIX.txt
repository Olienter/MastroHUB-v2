HF-OPS-ANALYSIS-0004E-CI-FIX CI WORKFLOW DIAGNOSIS & FIX

## CI WORKFLOW DIAGNOSIS

### Environment Versions
- NODE: v22.18.0
- PNPM: 10.14.0
- HEAD SHA: af4abef
- BRANCH: watchdog/probe-001

### CI Failure Analysis

#### Observed Issues
1. **hard-fail job failing** after ~7s on push to watchdog/probe-001
2. **watchdog job skipped** - not triggering due to incorrect workflow configuration
3. **Path filter issues** - using `contains(github.event.pull_request.files...)` instead of official triggers

#### Root Cause Analysis
- **Workflow trigger**: Using incorrect `if` conditions instead of official `on.pull_request.paths`
- **PNPM installation**: May be missing proper pnpm setup in runner
- **Job dependencies**: watchdog job not running due to hard-fail failure

#### Expected Behavior
- hard-fail should pass (build, typecheck, lint)
- watchdog should trigger on PR changes to app/** or components/**
- Playwright should run and detect seeded errors

### CI Workflow Fixes Required

#### 1. Official Triggers
```yaml
on:
  pull_request:
    paths:
      - 'app/**'
      - 'components/**'
      - 'public/huge-test.js'
  push:
    branches:
      - watchdog/probe-001
    paths:
      - 'app/**'
      - 'components/**'
      - 'public/huge-test.js'
```

#### 2. Remove Job-level Conditions
- Remove all `if: contains(github.event.pull_request.files.*.path, ...)` conditions
- Let official path filters handle triggering

#### 3. Reliable PNPM Setup
```yaml
- uses: pnpm/action-setup@v4
  with: { version: 10.14.0, run_install: true }
```

#### 4. Playwright Setup
```yaml
- name: Setup Playwright
  run: npx playwright install --with-deps
```

#### 5. Permissions for PR Comments
```yaml
permissions:
  contents: read
  pull-requests: write
  actions: read
```

### Next Steps
1. Apply workflow fixes
2. Commit and push changes
3. Create/update PR
4. Wait for successful CI run
5. Extract watchdog findings
6. Update evidence with real results

### RESULT: FIXES APPLIED - READY FOR TESTING

### DATE: 2025-08-24T20:00:00.000Z

### HEAD SHA: 61edca5

### Notes
- CI workflow fixed with official path filters
- Reliable pnpm setup using pnpm/action-setup@v4
- Job-level conditions removed
- Permissions added for PR comments
- Workflow pushed to GitHub
- Ready for PR testing and watchdog validation
